<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" xmlns:https="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    <title th:text="|#{addShip}|">Battle Ship</title>
    <link rel="stylesheet" href="/welcomeView.css" type="text/css">
</head>
<body>
<div align="center">
    <h1 id=title th:text="#{name}"></h1>

    <h3>Choose the game with another user: </h3>

    <div class="gameSelectorContainer">
        <select id="gameSelector" class="gameSelect" th:name="game" multiple>
            <option th:each="game : ${waitingGames}" th:value="${game}" th:text="'game id ' + ${game}"></option>
        </select>
        <button class="joinButton" id="joinGame" disabled>Join to game</button>
        <button class="ownGameButton" id="ownGame">Own game</button>
    </div>
</div>

<div style="position: absolute; top: 10px; left: 10px;">
    <span th:text="#{lang.change}"></span>:
    <select id="locales">
        <option value=""></option>
        <option value="en" th:text="#{lang.eng}"></option>
        <option value="pl" th:text="#{lang.pl}"></option>
    </select>
</div>

<div style="display: flex; justify-content: center; align-items: center; height: 100%;">
    <a id=start href="/view/startGame">
        <button id="startButton" style="padding: 10px 20px; font-size: 24px; background-color: #4CAF50; color: white; border: none; cursor: pointer; border-radius: 10px;">
            Start game
        </button>
    </a>
</div>

<input type=hidden id="user_id" th:value="${userId}">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js">
</script>
<script type="text/javascript">
    $(document).ready(function () {
        $("#locales").change(function () {
            var selectedOption = $('#locales').val();
            if (selectedOption != '') {
                window.location.replace('welcomeView?lang=' + selectedOption);
            }
        });
    });

</script>

<script th:src="@{/battleShipClient.js}"></script>
<script th:src="@{/welcomeView.js}"></script>
</body>
</html>
