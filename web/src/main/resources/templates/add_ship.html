<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org" xmlns:https="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Battle Ship add ship</title>

</head>
<body>
    <div align="center">
        <h1>Add Ship</h1>
    </div>
    <div align="center">
        <form action="#" th:action="@{/addShip}" th:object="${shipfacade}" method="post">
                <label>Wielkość statku: </label>
                <select th:name="length">
                    <option th:each="length :${shipSize}" th:value="${length}" th:text="${length}"></option>
                </select>

                <label>Orientacja: </label>
                <select th:name="position">
                    <option th:each="o :${orientList}" th:value="${o}" th:text="${o}"></option>
                </select>

            <table id="table" border="1" cellspacing="2" cellpadding="2">
                <tr height="30"
                    th:each="row, Y : ${#numbers.sequence(1, 10)}">
                    <td th:each="columne, X : ${#numbers.sequence(1, 10)}"
                        width="30">
                    <input type="submit" th:name="coord" th:value="|${Y.index},${X.index}|"/>
                    </td>
                </tr>
            </table>
        </form>
    </div>

<!--    <div>-->
<!--        <tr th:each="ship: ${listShip}">-->
<!--            <td th:text="${ship.getLength}"></td>-->
<!--            <td th:text="${ship.getXstart}">X: </td>-->
<!--            <td th:text="${ship.getYstart}">Y: </td>-->
<!--            <td th:text="${ship.getPosition}">Orientacja: </td>-->
<!--            <p>##############################################</p>-->
<!--        </tr>-->
<!--    </div>-->

<!--    <div align="center">-->
<!--    <table id="board" border="1" cellspacing="2" cellpadding="2">-->
<!--        <tr height="30"-->
<!--            th:each="row, Y : ${#numbers.sequence(1, 10)}">-->
<!--            <td th:each="col, X : ${#numbers.sequence(1, 10)}"-->
<!--                width="30"-->
<!--                th:data-row=${Y.count}-->
<!--                th:data-col=${X.count}-->
<!--            ><input type="submit">-->
<!--            </td>-->
<!--        </tr>-->
<!--    </table>-->
<!--    </div>-->

    <script>
        document.getElementById("table").addEventListener("click", function (event) {
            var target = event.target,
                col,row,rX,cX;
            target.style.backgroundColor = "red";
            if(target.type !== "button") {return}
            col = target.parentElement;
            row = col.parentElement;
            rX = row.rowIndex;
            cX = col.cellIndex;
        });
        // var squares = document.getElementsByTagName('td');
        //
        // // loop through that array, adding an event to each element:
        // for (i = 0; i < squares.length; i++) {
        //     squares[i].addEventListener('click', function (e) {
        //         console.log('clicked on row ' + this.getAttribute('data-row')
        //             + ' col ' + this.getAttribute('data-col'));
        //     });
        // }
    </script>

</body>
</html>